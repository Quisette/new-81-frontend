$DefaultBackColor: #efe
$KeyColor: #7c3
$DarkKeyColor: rgb(83, 134, 0)
$AccentColor: rgb(212, 152, 0)
$GreyCanvasColor: #fafafa
$LobbyGap: 7px
$boardGap: 7px
$MenuBarHeight: 35px
$PlayerListWidth: 368px
$GameListWidth: 574px
$BoardBoxWidth: 784px
$BoardBoxHeight: 476px
$SelectedSquareColor: rgba(50, 180, 255, 0.2)
$LastSquareColor: rgba(255, 80, 30, 0.2)
$LocalKifuColor: #44d
@import url(http://fonts.googleapis.com/earlyaccess/notosansjp.css)

// -------------------------------
// General rules
// -------------------------------

html
  height: 100%

body
  height: 100%
  font-family: 'Noto Sans JP', sans-serif
  color: #333
  font-size: 12px
  overflow-y: hidden
a
  color: $DarkKeyColor
  text-decoration: none
  &:hover
    color: $AccentColor
p
  margin: 3px 0
img.inline
  vertical-align: middle

input[type="button"]
  font-size: 12px
  height: 40px
  line-height: 40px
  padding: 0 8px

div.layer
  position: absolute
  left: 0
  top: 0
  width: 100%
  height: 100%
  min-height: 520px
  text-align: center
  background-color: $DefaultBackColor

div.grid-wrapper
  background-color: white
  background-image: url(../img/grid_header.gif)
  background-repeat: repeat-x
  border: 1px solid #ccc
  overflow: hidden

div.menuBar
  z-index: 1
  background-color: $KeyColor
  text-align: left
  height: $MenuBarHeight
  > ul
    margin: 0
    padding: 0
    list-style: none
    > li
      display: inline
      margin: 0
      padding: 0
      float: left
      position: relative
      > a.button
        min-width: 100px
        height: 35px
        line-height: 35px
        text-align: center
        display: inline-block
        color: white
        font-size: 14px
        padding: 0 3px
        &:hover
          background-color: rgba(255,255,255,0.2)
        &:active
          background-color: rgba(255,255,255,0.5)
        img
          vertical-align: -7px
      > a.button-disabled
        pointer-events: none
        background-color: $DarkKeyColor
        opacity: 0.7
ul.subMenu
  position: absolute
  top: $MenuBarHeight
  left: 0
  margin: 0
  padding: 0
  list-style: none
  box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.5)
  li
    background-color: $KeyColor
    width: 100%
    display: block
    a
      padding: 0 2px
      display: block
      line-height: 2.5em
      color: white
      white-space: nowrap
      &:hover
        background-color: rgba(255,255,255,0.2)
      &:active
        background-color: rgba(255,255,255,0.7)
      img
        vertical-align: middle
        margin-right: 2px
    a.submenu-button-disabled
      pointer-events: none
      background-color: $DarkKeyColor
      opacity: 0.7
img.avatar
  width: 128px
  height: 128px

// -------------------------------
// Login View
// -------------------------------

select#languageSelector
  width: 100px
  height: 20px

div#layerLogin
  z-index: 3
  background-image: url(../img/login_background.jpg)
  background-size: cover
  background-position: center center

p#loginAlert
  font-size: 11px
  color: rgb(181, 119, 0)

table#serverGrid
  background: white
  width: 300px

// -------------------------------
// Lobby View
// -------------------------------

div#layerLobby
  z-index: 2
  background-image: url(../img/back_tile.png)

div#lobbyHeader
  display: flex
  justify-content: flex-end
  align-items: center
  padding-right: 2px
  flex: 1
  color: white

div#headerText
  font-size: 9px
  padding: 0 5px

div#playerListBox
  width: $PlayerListWidth
  display: flex
  flex-direction: column
  padding-bottom: $LobbyGap
  cursor: default

table#playerGrid
  background: white
  width: 100%

div#gameListBox
  width: $GameListWidth + $LobbyGap
  display: flex
  flex-direction: column
  cursor: default

div#gameGridWrapper
  width: $GameListWidth
  margin-left: $LobbyGap
  margin-bottom: $LobbyGap
  flex: 9 9 1px

div#lobbyChatBox
  display: flex
  width: $GameListWidth
  flex-direction: column
  padding-bottom: $LobbyGap
  margin-left: $LobbyGap
  flex: 11 11 1px

div#lobbyMessageArea
  text-align: left
  background-color: white
  overflow-y: scroll
  border: 1px solid #ccc
  word-wrap: break-word
  flex: 1

div#worldClock
  height: 0px

// -------------------------------
// Board View
// -------------------------------

div#layerBoard
  z-index: 1
  background-image: url(../img/back_tile.png)

div#boardLeftBottomHBox
  flex: 1
  margin-top: $boardGap
  width: $BoardBoxWidth

div#boardChatBox
  flex: 1
  margin-bottom: $boardGap
div#boardRightVBox
  margin-left: $boardGap
  max-width: 394px
div#boardBox
  position: relative
  width: $BoardBoxWidth
  height: $BoardBoxHeight
  background-image: url(../img/tatami.jpg)
  > div
    position: absolute
canvas#boardCanvas
  position: absolute
  left: 0
  top : 0
  pointer-events: none
div#banField
  background-size: contain
div.square
  position: absolute
  background-size: contain
div.square-selected
  background-color: $SelectedSquareColor
div.square-last
  background-color: $LastSquareColor
div.square-movable
div.komadai
  background-size: contain
div.player-info
  width: 160px
  height: 186px
  background-image: url(../img/paper.jpg)
  border: solid 2px #ddd
  text-align: left
div.player-info-has-turn
  border: solid 2px #f80
div.avatar-wrapper
  width: 128px
  height: 128px
span#player-info-mark
  margin-left: 4px
span#player-info-name
  font-size: 14px
  font-weight: bold
span.name-winner
  background-color: yellow
span.name-mouse-out
  color: #800
span.name-left
  color: #aaa
span#player-info-rate
  margin-left: 4px
div.game-timer
  border: 1px solid black
  width: 80px
  height: 30px
div.game-timer-label
  font-size: 19px
  font-family: 'Arial Black'
  line-height: 29px
div.game-timer-sub-label
  position: absolute
  padding-right: 2px
  color: #f80
  font-size: 9px
  line-height: 10px
  text-align: right
  width: 100%
  height: 10px
  top: 20px

div#boardMessageArea
  text-align: left
  background-color: white
  overflow-y: scroll
  border: 1px solid #ccc
  word-wrap: break-word
  flex: 1

div#watcherBox
  width: 210px
  margin-right: $boardGap
  background-color: $GreyCanvasColor
  margin-bottom: $boardGap
  cursor: default

div#kifuBox
  width: 170px
  margin-right: $boardGap
  margin-bottom: $boardGap
  background-color: $GreyCanvasColor
  cursor: default
.local-kifu
  color: $LocalKifuColor
div#replayButtons
  text-align: center
  input
    height: 25px
    line-height: 25px
    width: 42px

p#disconnectTimer
  margin: 0
  padding: 0
  color: red
  font-weight: bold

// -------------------------------
// Modal windows
// -------------------------------

div.alert-dialog
  display: none
div.modal
  h3
    font-size: 12px
    margin: 5px 0 0 0
div.my-modal
  background-color: #f3f3f3
  box-shadow: 4px 4px 10px 0px rgba(0,0,0,0.5)
  h1
    background-color: $KeyColor
    color: white
    margin: 0
    padding: 4px 10px
    font-size: 15px
  div.content
    line-height: 2em
    padding: 12px 20px 12px 12px
.no-close .ui-dialog-titlebar-close
  display: none

div#player-info-layer-1
  transition: opacity 0.3s
  p
    margin: 5px 0 7px 0
div#player-info-layer-2
  transition: opacity 0.3s

div#modalNewGame
  display: none

div#modalOption
  span
    margin-right: 3px

div#privateMessageArea
  height: 103px
  background-color: white
  overflow-y: scroll
  border: 1px solid #ccc
  word-wrap: break-word

div#modalChallenger
  display: none
  padding: 10px 15px
  min-width: 260px

div#promotion-window
  text-align: center
button.promotion-button
  width: 55px
  height: 55px
  margin: 10px 3px
  padding: 0
img.promotion-image
  height: 48px
  margin: 0

div#modalImpasse
  display: none
  padding: 10px
table#impasse
  text-align: center
  td
    padding: 0 10px

div#modalResult
  z-index: 1
  display: none
  position: absolute
  width: 500px
  height: 300px
  background-size: contain
  background-position: center center
  background-repeat: no-repeat
  text-align: center
  pointer-events: none
  p
    line-height: 1.4em
  #resultBanner
    margin-top: 32px
    margin-bottom: 0
    font-size: 50px
    font-weight: bold
    text-shadow: 0 1px 3px white
  .rate-change
    padding: 0
    margin: 0
    font-size: 16px
  .rank-change
    margin-left: 4px
    font-weight: bold
    color: $KeyColor

div#pieceDesignSelector
  overflow-y: scroll
  height: 200px
  background-color: #f8f8f8
  border: 2px solid #eee
img.piece-preview
  height: 35px
  vertical-align: middle

div#modalChatTemplate
  a
    display: block
    border-top: 1px solid #ddd
    cursor: pointer
    padding: 3px
  a:first-child
    border-top: none
  a:hover
    background-color: #fec


// -------------------------------
// Utilities
// -------------------------------

.hbox
  display: flex
  justify-content: center
  align-items: stretch

.vbox
  display: flex
  flex-direction: column
  justify-content: flex-start

ul#thanksList
  margin: 0
  li
    display: inline-block
    margin: 0 10px

.left
  text-align: left

center
  text-align: center

.test
  border: 1px solid goldenrod

.thin
  margin-top: 4px
  margin-bottom: 4px
.small
  font-size: 10px
.margin-medium
  margin: 15px
.name-link
  cursor: pointer
textarea#clip-board-area
  opacity: 0
  width: 100px
  height: 100px
