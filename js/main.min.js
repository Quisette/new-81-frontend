var _0xcaf7=['MjAl','Tm8gd2F0Y2hlcg==','6Kaz5oim6ICF44Gq44GX','I2tpZnVHcmlk','bnVtU3Ry','bW92ZVN0cg==','NjAl','YXBp','dXNlci1zZWxlY3Q=','bm9kZQ==','cGFyZW50','aGFzQ2xhc3M=','c2VsZWN0ZWQ=','aW5kZXg=','ZGlhbG9n','bm8tY2xvc2U=','bGVmdCB0b3A=','bGVmdCsxMDAgdG9wKzEwMA==','LnVpLXdpZGdldC1vdmVybGF5','aGlkZQ==','ZmFkZUlu','aTE4bi1jYW5jZWw=','Y2xvc2U=','I21vZGFsQ2hhbGxlbmdlcg==','ZmFkZQ==','bG9naW4=','I3VzZXJuYW1lSW5wdXQ=','ZGF0','I3Bhc3N3b3JkSW5wdXQ=','dmFs','c2F2ZQ==','I2xvZ2luU2F2ZQ==','cHJvcA==','a2V5dXA=','a2V5Q29kZQ==','I2JvYXJkQ2hhdElucHV0','bGVuZ3Ro','Z2FtZUNoYXQ=','b25tb3VzZW1vdmU=','ZXZlbnQ=','Y2xpZW50WA==','Y2xpZW50WQ==','c3lzdGVtLjgxZG9qby5jb20=','U0VSVkVSUw==','Z2V0U2VydmVycw==','b25yZXNpemU=','ZGl2Lm1lbnVCYXI=','ZmluZA==','YS5idXR0b24=','Y3Nz','bWluLXdpZHRo','aW5uZXJXaWR0aA==','Y2hhbmdlTGFuZ3VhZ2U=','W2RhdGEtaTE4bl0=','ZWFjaA==','dGV4dA==','YXR0cg==','ZGF0YS1pMThu','W2RhdGEtaTE4bi12YWx1ZV0=','ZGF0YS1pMThuLXZhbHVl','W2RhdGEtaTE4bi10aXRsZV0=','dGl0bGU=','ZGF0YS1pMThuLXRpdGxl','I25ld0dhbWVSdWxlU2VsZWN0','a2V5cw==','YXBwZW5k','b3B0aW9u','bmV3X2dhbWUudGl0bGU=','YnV0dG9u','bGFiZWw=','aW5wdXRbbmFtZT1sb2dpblR5cGVdOmNoZWNrZWQ=','ZGlzYWJsZWQ=','UGxlYXNlIHNlbGVjdCBhIHNlcnZlci4=','I2xvZ2luQnV0dG9u','I2xvZ2luQWxlcnQ=','aG9zdA==','cG9ydA==','Z3Vlc3Q=','ZG9qb19ndWVzdA==','c2V0Q2FsbGJhY2tGdW5jdGlvbnM=','TE9CQllfSU4=','TE9CQllfT1VU','Q0hBVA==','R0FNRUNIQVQ=','TU9WRQ==','R0FNRV9FTkQ=','RVJST1I=','Q0xPU0VE','V0hP','TElTVA==','QUNDRVBU','REVDTElORQ==','R0FNRV9TVU1NQVJZ','U1RBUlQ=','TU9OSVRPUg==','RU5URVI=','Y29ubmVjdA==','d2hv','bGlzdA==','I21vZGFsTmV3R2FtZQ==','Z2FtZQ==','bW9uaXRvcg==','Z2FtZUlk','I2xvYmJ5TWVzc2FnZUFyZWE=','I2JvYXJkTWVzc2FnZUFyZWE=','cmVwbGFjZQ==','PGJyPiZlbXNwOyZlbXNwOyZlbXNwOw==','PHNwYW4+PC9zcGFuPg==','Ym9sZA==','aHRtbA==','YXBwZW5kVG8=','YW5pbWF0ZQ==','c2Nyb2xsSGVpZ2h0','Y29kZS4=','bXlSb2xlVHlwZQ==','cG9zaXRpb24=','dHVybg==','cmVzaWdu','aXNQbGF5ZXI=','Y2xvc2VHYW1l','aXNXYXRjaGVy','Ym9hcmRNZXNzYWdlQXJlYQ==','ZW1wdHk=','bW92ZQ==','cHVzaA==','YWRkTW92ZVRvS2lmdUdyaWQ=','cm93cw==','ZnJvbQ==','cGF1c2VBbGxUaW1lcnM=','c2V0Qm9hcmRDb25kaXRpb25z','I2ZsaXBCdXR0b24=','YWRkQ2xhc3M=','YnV0dG9uLWRpc2FibGVk','I2dyZWV0QnV0dG9u','ZmFsc2U=','aXNQb3N0R2FtZQ==','aW5wdXRbbmFtZT1raWZ1TW9kZVJhZGlvXQ==','I3Jlc2lnbkJ1dHRvbg==','I3Bvc2l0aW9uTWVudUJ1dHRvbiwgI2tpZnVNZW51QnV0dG9uLCAjcmVtYXRjaEJ1dHRvbiwgI2Nsb3NlR2FtZUJ1dHRvbg==','cmVtb3ZlQ2xhc3M=','I3JlY2VpdmVXYXRjaGVyQ2hhdENoZWNrQm94','Z2FtZVR5cGU=','dHJ1ZQ==','I2ZsaXBCdXR0b24sICNwb3NpdGlvbk1lbnVCdXR0b24sICNraWZ1TWVudUJ1dHRvbiwgI3JlbWF0Y2hCdXR0b24=','c3R5bGU=','aW5wdXRbbmFtZT0ibmV3R2FtZVR5cGUiXTpjaGVja2Vk','d2FpdA==','I25ld0dhbWVSdWxlU2VsZWN0IG9wdGlvbjpzZWxlY3RlZA==','I25ld0dhbWVUb3RhbFNlbGVjdCBvcHRpb246c2VsZWN0ZWQ=','I25ld0dhbWVCeW95b21pU2VsZWN0IG9wdGlvbjpzZWxlY3RlZA==','bWF0Y2g=','c3RvcFdhaXRpbmc=','YWNjZXB0','ZGVjbGluZQ==','44GV44KT44GL44KJ44Gu5oyR5oim44KS44OR44K544GX44G+44GX44Gf44CC','IzAwODgwMA==','PGRpdiBpZD0icGxheWVyLWluZm8tbGF5ZXItMSIgY2xhc3M9Imhib3giIHN0eWxlPSJwb2ludGVyLWV2ZW50czpub25lIj4gICAgICAgIDxkaXYgY2xhc3M9ImF2YXRhci13cmFwcGVyIj48aW1nIGNsYXNzPSJhdmF0YXIiLz48L2Rpdj4gICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MTttYXJnaW4tbGVmdDoxMHB4Ij48cCBpZD0icDEiPjwvcD48cCBpZD0icDIiPjwvcD48cCBpZD0icDMiPjwvcD48cCBpZD0icDQiPjwvcD48L2Rpdj4gICAgICAgIDwvZGl2PiAgICAgICAgPGRpdiBpZD0icGxheWVyLWluZm8tbGF5ZXItMiIgc3R5bGU9Im1hcmdpbi10b3A6LTEyOHB4O29wYWNpdHk6MCI+ICAgICAgICA8ZGl2IGlkPSJwcml2YXRlTWVzc2FnZUFyZWEiPjwvZGl2PiAgICAgICAgPGRpdiBjbGFzcz0iaGJveCIgc3R5bGU9Im1hcmdpbi10b3A6NXB4Ij48c3BhbiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjVweDt3aGl0ZS1zcGFjZTpub3dyYXAiPlBNOjwvc3Bhbj48aW5wdXQgaWQ9InByaXZhdGVDaGF0SW5wdXQiIHN0eWxlPSJmbGV4OjEiPjwvZGl2PiAgICAgICAgPC9kaXY+','bGVmdCs=','IHRvcCs=','I3ByaXZhdGVNZXNzYWdlQXJlYQ==','ZGVzdHJveQ==','cGxheWVyX2luZm8uY2hhbGxlbmdl','cGxheWVyX2luZm8uZGV0YWls','IzMzZg==','PGJyPg==','ZmFzdA==','aW1nLmF2YXRhcg==','c3Jj','cCNwMQ==','dG9TdHJpbmc=','cCNwMg==','Ujog','WW91IGNhbiBvbmx5IGNoYWxsZW5nZSBvbmUgcGxheWVyIGF0IGEgdGltZS4=','bGlzdEFzV2FpdGVy','cHJvdmlzaW9uYWw=','d2FpdGluZ0dhbWVOYW1l','TmV3IHBsYXllciB3aXRoIGEgcHJvdmlzaW9uYWwgcmF0aW5nIGNhbm5vdCBjaGFsbGVuZ2UgNi1EYW4gb3IgaGlnaGVyIGZvciByYXRlZCBnYW1lcy4=','44Os44O844OI5pyq56K65a6a44Gu5paw6Yut5qOL5aOr44Gv5YWt5q615Lul5LiK44Go44Gu44Os44O844OG44Kj44Oz44Kw5a++5bGA44Gr44Gv5oyR5oim5Ye65p2l44G+44Gb44KT44CC','c2Vlaw==','Q2hhbGxlbmdpbmcg','Li4uLi4gKE11c3Qgd2FpdCBmb3IgMjAgc2Vjb25kcyBtYXgpCg==','44GV44KT44Gr5oyR5oim5LitLi4uLi4gKOW+heOBoeaZgumWkyDmnIDlpKfjgacyMOenkikK','Y2hhbGxlbmdl','VGhlIG9wcG9uZW50IGlzIG5vdCB3YWl0aW5nIHdpdGggb3duIGdhbWUgcnVsZS4gWW91IGNhbiBpbnZpdGUgaGltIGlmIHlvdSB3YWl0IHdpdGggeW91ciBvd24gZ2FtZSBydWxlLg==','55u45omL44Gv5a++5bGA5b6F44KS44GX44Gm44GE44G+44Gb44KT44CC6Ieq5YiG44GM5a++5bGA5b6F44Gr44GZ44KL44GT44Go44Gn5oub5b6F44Oh44OD44K744O844K444KS6YCB44KL44GT44Go44GM5Y+v6IO944Gn44GZ44CC','IGlzIG5vdCBhY2NlcHRpbmcgY2hhbGxlbmdlIG9yIGludml0YXRpb25zIHJpZ2h0IG5vdy4=','44GV44KT44Gv54++5ZyoIOaMkeaIpuODu+aLm+W+heOCkuWPl+OBkeS7mOOBkeOBpuOBhOOBvuOBm+OCk+OAgg==','aW5HYW1lUm9vbQ==','IGlzIGluIGFub3RoZXIgZ2FtZSByaWdodCBub3cu','44GV44KT44Gv5a++5bGA5Lit44Gn44GZ44CC','cHJpdmF0ZUNoYXQ=','WyMjSU5WSVRFXQ==','VGhlIG9wcG9uZW50IGlzIG5vdCB3YWl0aW5nIHdpdGggb3duIGdhbWUgcnVsZS4gSW5zdGVhZCwgYW4gaW52aXRhdGlvbiB0byB5b3VyIGdhbWUgaGFzIGJlZW4gc2VudCB0byBoaW0u','55u45omL44Gv5a++5bGA5b6F44KS44GX44Gm44GE44G+44Gb44KT44CC5Luj44KP44KK44Gr6Ieq5YiG44Gu5a++5bGA44G444Gu5oub5b6F44Oh44OD44K744O844K444KS','aHR0cDovL3N5c3RlbS44MWRvam8uY29tLw==','ZGl2I3BsYXllci1pbmZvLWxheWVyLTE=','b3BhY2l0eQ==','RXZlbnQgcmVjZWl2ZWQ6IA==','Y2hlY2tlZA==','aW1nLw==','c2VydmVyTmFtZQ==','LnBuZw==','I2hlYWRlci1zZXJ2ZXJOYW1l','dXNlcm5hbWU=','I2hlYWRlci1wbGF5ZXJOYW1l','I2hlYWRlci1yYXRl','IDog','IEQtTWlsZXMgOiA=','I2hlYWRlci1wcmVtaXVt','IOOCr+ODqeOCuQ==','dHJpbQ==','YWRk','ZHJhdw==','Y291bnRyeUNvZGU=','c2V0RnJvbUxpc3Q=','QSBuZXcgcGxheWVy','5paw6Yut5qOL5aOr','ICAtICA=','IGxvZ2dlZCBpbg==','IHZpYSBtb2JpbGU=','IGZyb20g','bmFtZV9lbg==','44CATm93IG9uIA==','LXdpbiBzdHJlYWsh','IOOBleOCk+OBjA==','44Oi44OQ44Kk44Or44GL44KJ','bmFtZV9qYQ==','44CA54++5Zyo','6YCj5Yud5LitIQ==','c2V0RnJvbUxvYmJ5SW4=','Z3JpZE9iamVjdA==','Y29kZS5HMDMx','cmVtb3Zl','c2V0RnJvbUdhbWU=','ZGlzYWJsZUNoYWxsZW5nZQ==','Q0hBTExFTkdFUg==','QzAwNQ==','c2V0RGlyZWN0aW9u','bG9hZE5ld1Bvc2l0aW9u','WW91IGFyZSBCbGFjayA=','KEhhbmRpY2FwIHRha2VyKS4K','KFNlbnRlKS4K','44GC44Gq44Gf','44GM5YWI5omL','44Gn44GZ44CCCg==','WW91IGFyZSBXaGl0ZSA=','KEdvdGUpLgo=','44GM5LiK5omLKOOBhuOCj+OBpik=','44Gv5b6M5omL','c3Vic3Ry','dGltZQ==','Z2V0RmluYWxNb3Zl','aGFuZGxlUmVjZWl2ZWRNb3Zl','dXBkYXRlVHVybkhpZ2hsaWdodA==','cnVubmluZ1RpbWVy','cnVu','bnVt','c2V0R2FtZUVuZA==','dG9HYW1lRW5kTWVzc2FnZQ==','I0REMDA4OA==','c3R1ZHlIb3N0VHlwZQ==','I3BsYXllci1pbmZvLW5hbWU=','bmFtZS13aW5uZXI=','IyMjIFlvdSBMb3NlICMjIw==','IyMjIOOBguOBquOBn+OBruiyoOOBkeOBp+OBmSAjIyM=','Z2FtZUVuZA==','V0lO','cGxheWVySW5mb3M=','IyMjIFlvdSBXaW4gIyMjCg==','IyMjIOOBguOBquOBn+OBruWLneOBoeOBp+OBmSAjIyMK','IyMjIERyYXcgIyMjCg==','IyMjIOW8leOBjeWIhuOBkSAjIyMK','IyMjIFNlbnRlIChvciBTaGl0YXRlKSBXaW5zICMjIwo=','IyMjIOWFiOaJiyjjgb7jgZ/jga/kuIvmiYsp44Gu5Yud44GhICMjIwo=','IyMjIEdvdGUgKG9yIFV3YXRlKSBXaW5zICMjIwo=','IyMjIOW+jOaJiyjjgb7jgZ/jga/kuIrmiYsp44Gu5Yud44GhICMjIwo=','c3RhcnRNb25pdG9y','c2V0RnJvbUNTQQ==','aGFuZGxlTW9uaXRvck1vdmU=','U1RVRFk=','c2V0RnJvbVN0dWR5','R0FNRSBTVEFSVEVEOiDilrI=','5paw6KaP5a++5bGAOiDimJc=','IHZzIOKWsw==','IOWvviDimJY=','c2V0RnJvbVN0YXJ0','IGhhcyB3b24g','44GV44KT44GM6YCa566X','5Yud44KS6YGU5oiQ44GX44G+44GX44GfIQ==','IzU1MDA2Ng==','Izg4ODg4OA==','IzAwMzNERA==','IzAwMDAwMA==','d2hpdGU=','IzY2MDAwMA==','ZGl2I3BsYXllci1pbmZvLXdpbmRvdy0=','Y29sb3I=','I2YzNQ==','aXNPcGVu','aXNQbGF5aW5n','UE06IFs=','I0ZGMDAwMA==','dmFsdWU=','bG9naW4ucmVsb2dpbg==','ZGlzcGxheQ==','aW5pdGlhbA==','ZGl2I2xheWVyTG9iYnk=','ZGl2I2xheWVyTG9naW4=','bm9uZQ==','PHNQQW4gb25jbGljaz0iX29wZW5QbGF5ZXJJbmZvKHVzZXJzWyc=','J10pIiBjbGFzcz0ibmFtZS1saW5rIj4=','PC9TcGFOPg==','YXBwbHk=','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','Y29uc29sZQ==','d2Fybg==','aW5mbw==','ZXhjZXB0aW9u','bG9n','ZGVidWc=','ZXJyb3I=','aHR0cDovLzgxZG9qby5jb20vZG9qby9pbWFnZXMv','dGVzdA==','44OG44K544OI','c2hvZ2lodWIuY29t','TU9PTg==','44Ot44O844Kr44Or','MTkyLjE2OC4yMjAuMTMx','cm93','I01FUkNVUlk=','c2VsZWN0','c2VuZA==','JSVHQU1FIGhjMnBkX3Rlc3QyLTkwMC0zMCAt','I2JvYXJkQm94','YWRkRXZlbnRMaXN0ZW5lcg==','bG9hZA==','cmVzcG9uc2VUZXh0','c3BsaXQ=','Zm9yRWFjaA==','b3Blbg==','Z2V0','ZGF0L2NvdW50cmllcy50eHQ=','Z2V0SlNPTg==','ZGF0L2NvbmZpZy5qc29u','bGFuZ3VhZ2U=','dXNl','bG9jYWxlcy97e2xuZ319Lmpzb24=','bGFuZ3VhZ2VDaGFuZ2Vk','RGF0YVRhYmxl','bmFtZQ==','MzUl','ZHQtYm9keS1sZWZ0','LnBuZyI+IA==','ZGVzY3JpcHRpb25famE=','cG9wdWxhdGlvbg==','c2luZ2xl','I3BsYXllckdyaWQ=','MTAl','cmFuaw==','MTQl','bmFtZVN0cg==','NDAl','Y291bnRyeQ==','MTIl','cmF0ZQ==','TG9hZGluZy4uLg==','6Kqt6L685LitLi4u','I3BsYXllckdyaWQgdGJvZHk=','ZGJsY2xpY2s=','I3dhaXRlckdyaWQ=','d2FpdGVy','NTAl','cnVsZVN0cg==','dGltZVN0cg==','MTMl','ZGVzYw==','Tm8gcGxheWVyIGlzIHdhaXRpbmc=','5a++5bGA5b6F44OX44Os44O844Ok44GM44GE44G+44Gb44KT','Y2xlYXI=','I3dhaXRlckdyaWQgdGJvZHk=','I2dhbWVHcmlk','Z290ZVN0cg==','Mjkl','ZHQtYm9keS1yaWdodA==','bW92ZXM=','d2F0Y2hlcnM=','Tm8gZ2FtZSByb29tIGZvdW5kLg==','5a++5bGA44GM44GC44KK44G+44Gb44KT','ZGF0YQ==','I3dhdGNoZXJHcmlk','MjUl'];(function(a,c){var b=function(b){while(--b){a['push'](a['shift']());}};b(++c);}(_0xcaf7,0x138));var _0x7caf=function(b,d){b=b-0x0;var a=_0xcaf7[b];if(_0x7caf['initialized']===undefined){(function(){var a;try{var b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');a=b();}catch(b){a=window;}var c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';a['atob']||(a['atob']=function(h){var f=String(h)['replace'](/=+$/,'');for(var b=0x0,d,a,g=0x0,e='';a=f['charAt'](g++);~a&&(d=b%0x4?d*0x40+a:a,b++%0x4)?e+=String['fromCharCode'](0xff&d>>(-0x2*b&0x6)):0x0){a=c['indexOf'](a);}return e;});}());_0x7caf['base64DecodeUnicode']=function(e){var b=atob(e);var c=[];for(var a=0x0,d=b['length'];a<d;a++){c+='%'+('00'+b['charCodeAt'](a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(c);};_0x7caf['data']={};_0x7caf['initialized']=!![];}var c=_0x7caf['data'][b];if(c===undefined){a=_0x7caf['base64DecodeUnicode'](a);_0x7caf['data'][b]=a;}else{a=c;}return a;};var _0x9453e9=function(){var a=!![];return function(d,b){var c=a?function(){if(b){var a=b[_0x7caf('0x0')](d,arguments);b=null;return a;}}:function(){};a=![];return c;};}();var _0x48d6d2=_0x9453e9(this,function(){var b=function(){};var a;try{var c=Function(_0x7caf('0x1')+_0x7caf('0x2')+');');a=c();}catch(b){a=window;}if(!a[_0x7caf('0x3')]){a[_0x7caf('0x3')]=function(b){var a={};a['log']=b;a[_0x7caf('0x4')]=b;a['debug']=b;a[_0x7caf('0x5')]=b;a['error']=b;a[_0x7caf('0x6')]=b;a['trace']=b;return a;}(b);}else{a['console'][_0x7caf('0x7')]=b;a['console'][_0x7caf('0x4')]=b;a[_0x7caf('0x3')][_0x7caf('0x8')]=b;a['console']['info']=b;a[_0x7caf('0x3')][_0x7caf('0x9')]=b;a[_0x7caf('0x3')][_0x7caf('0x6')]=b;a[_0x7caf('0x3')]['trace']=b;}});_0x48d6d2();'use strict';const IMAGE_DIRECTORY=_0x7caf('0xa');var client=null;var apiClient=null;var sp;var currentLayer=0x0;var isGuest=![];var mileage;var serverGrid;var playerGrid;var waiterGrid;var gameGrid;var watcherGrid;var kifuGrid;var users=new Object();var playerInfoWindows=new Object();var me;var _challengeUser=null;var _gameAccepted=![];var premium;var countries=new Object();var board;var hidden_prm;var mouseX;var mouseY;var testMode=![];var config=null;function _testFunction(a){if(a==0x0){_handleServers([{'id':0x1,'name':'MERCURY','description_en':_0x7caf('0xb'),'description_ja':_0x7caf('0xc'),'enabled':!![],'population':0x0,'host':_0x7caf('0xd'),'port':0xff4},{'id':0x2,'name':_0x7caf('0xe'),'description_en':'local','description_ja':_0x7caf('0xf'),'enabled':!![],'population':0x0,'host':_0x7caf('0x10'),'port':0xff1}]);}else if(a==0x1){serverGrid[_0x7caf('0x11')](_0x7caf('0x12'))[_0x7caf('0x13')]();_loginButtonClick();}else if(a==0x2){client[_0x7caf('0x14')](_0x7caf('0x15'));}}$(function(){board=new Board($(_0x7caf('0x16')));let a=new XMLHttpRequest();a[_0x7caf('0x17')](_0x7caf('0x18'),function(){a[_0x7caf('0x19')][_0x7caf('0x1a')]('\x0a')[_0x7caf('0x1b')](function(b){let a=b['split']('\x09');countries[a[0x0]]=new Country(parseInt(a[0x0]),a[0x1],a[0x4],a[0x2]);});});a[_0x7caf('0x1c')](_0x7caf('0x1d'),_0x7caf('0x1e'));a[_0x7caf('0x14')]();sp=new SoundPlayer();$[_0x7caf('0x1f')](_0x7caf('0x20'),function(a){config=a;});i18next[_0x7caf('0x21')]='ja';i18next[_0x7caf('0x22')](i18nextXHRBackend)['init']({'lng':'ja','fallbackLng':'ja','debug':!![],'backend':{'loadPath':_0x7caf('0x23')}},function(a,b){_updateLanguage();});i18next['on'](_0x7caf('0x24'),()=>{_updateLanguage();});serverGrid=$('#serverGrid')[_0x7caf('0x25')]({'data':[],'columns':[{'data':_0x7caf('0x26'),'width':_0x7caf('0x27'),'className':_0x7caf('0x28'),'bSortable':![],'render':function(a){return'<img\x20class=\x22inline\x22\x20src=\x22img/'+a+_0x7caf('0x29')+a;}},{'data':_0x7caf('0x2a'),'width':_0x7caf('0x27'),'bSortable':![]},{'data':_0x7caf('0x2b'),'width':_0x7caf('0x27'),'bSortable':![]}],'rowId':_0x7caf('0x26'),'searching':![],'paging':![],'info':![],'order':![],'select':_0x7caf('0x2c'),'oLanguage':{'sEmptyTable':'Loading...'}});serverGrid['clear']();playerGrid=$(_0x7caf('0x2d'))[_0x7caf('0x25')]({'data':[],'columns':[{'data':'statStr','width':_0x7caf('0x2e')},{'data':'title','width':'14%'},{'data':_0x7caf('0x2f'),'width':_0x7caf('0x30'),'bSortable':![]},{'data':_0x7caf('0x31'),'width':_0x7caf('0x32'),'className':_0x7caf('0x28')},{'data':_0x7caf('0x33'),'width':_0x7caf('0x34'),'className':_0x7caf('0x28')},{'data':_0x7caf('0x35'),'width':_0x7caf('0x2e'),'className':'dt-body-right'}],'rowId':'name','searching':![],'paging':![],'info':![],'select':_0x7caf('0x2c'),'order':[[0x5,'desc']],'oLanguage':{'sEmptyTable':EJ(_0x7caf('0x36'),_0x7caf('0x37'))}});playerGrid['clear']();$(_0x7caf('0x38'))['on'](_0x7caf('0x39'),'tr',function(){_openPlayerInfo(users[playerGrid[_0x7caf('0x11')](this)['id']()]);});waiterGrid=$(_0x7caf('0x3a'))[_0x7caf('0x25')]({'data':[],'columns':[{'data':_0x7caf('0x3b'),'width':_0x7caf('0x3c'),'className':_0x7caf('0x28')},{'data':_0x7caf('0x35'),'width':_0x7caf('0x2e'),'className':'dt-body-right'},{'data':_0x7caf('0x3d'),'width':'27%'},{'data':_0x7caf('0x3e'),'width':_0x7caf('0x3f')}],'rowId':'name','searching':![],'paging':![],'info':![],'select':_0x7caf('0x2c'),'order':[[0x1,_0x7caf('0x40')]],'oLanguage':{'sEmptyTable':EJ(_0x7caf('0x41'),_0x7caf('0x42'))}});waiterGrid[_0x7caf('0x43')]();$(_0x7caf('0x44'))['on'](_0x7caf('0x39'),'tr',function(){_openPlayerInfo(users[waiterGrid['row'](this)['id']()]);});gameGrid=$(_0x7caf('0x45'))[_0x7caf('0x25')]({'data':[],'columns':[{'data':'senteStr','width':'29%','className':_0x7caf('0x28'),'bSortable':![]},{'data':_0x7caf('0x46'),'width':_0x7caf('0x47'),'className':_0x7caf('0x48'),'bSortable':![]},{'data':'ruleShort','width':'16%','bSortable':![]},{'data':_0x7caf('0x49'),'width':'7%','bSortable':![]},{'data':_0x7caf('0x4a'),'width':'7%','bSortable':![]},{'data':'opening','width':_0x7caf('0x34'),'bSortable':![]}],'rowId':'gameId','searching':![],'paging':![],'info':![],'select':_0x7caf('0x2c'),'order':![],'oLanguage':{'sEmptyTable':EJ(_0x7caf('0x4b'),_0x7caf('0x4c'))}});gameGrid[_0x7caf('0x43')]();$('#gameGrid\x20tbody')['on'](_0x7caf('0x39'),'tr',function(){_enterGame(gameGrid[_0x7caf('0x11')](this)[_0x7caf('0x4d')]());});watcherGrid=$(_0x7caf('0x4e'))[_0x7caf('0x25')]({'data':[],'columns':[{'data':_0x7caf('0x26'),'width':'55%','className':_0x7caf('0x28')},{'data':_0x7caf('0x33'),'width':_0x7caf('0x4f'),'className':_0x7caf('0x28')},{'data':_0x7caf('0x35'),'width':_0x7caf('0x50'),'className':_0x7caf('0x48')}],'rowId':_0x7caf('0x26'),'searching':![],'paging':![],'info':![],'select':_0x7caf('0x2c'),'order':[[0x2,_0x7caf('0x40')]],'oLanguage':{'sEmptyTable':EJ(_0x7caf('0x51'),_0x7caf('0x52'))}});watcherGrid['clear']();kifuGrid=$(_0x7caf('0x53'))[_0x7caf('0x25')]({'data':[],'columns':[{'data':_0x7caf('0x54'),'width':'15%','bSortable':![]},{'data':_0x7caf('0x55'),'width':_0x7caf('0x56'),'className':_0x7caf('0x28'),'bSortable':![]},{'data':_0x7caf('0x3e'),'width':_0x7caf('0x4f'),'className':_0x7caf('0x48'),'bSortable':![]}],'searching':![],'paging':![],'info':![],'select':_0x7caf('0x57'),'order':![]});kifuGrid['clear']();kifuGrid['on'](_0x7caf('0x58'),function(b,c,d,a,e){if($(a[_0x7caf('0x59')]())[_0x7caf('0x5a')]()[_0x7caf('0x5b')](_0x7caf('0x5c'))){b['preventDefault']();}else{_kifuSelected(a[_0x7caf('0x5d')]()[_0x7caf('0x11')]);}});$('#modalNewGame')[_0x7caf('0x5e')]({'modal':!![],'dialogClass':_0x7caf('0x5f'),'autoOpen':![],'position':{'my':_0x7caf('0x60'),'at':_0x7caf('0x61')},'open':function(a,b){$(_0x7caf('0x62'))[_0x7caf('0x63')]()[_0x7caf('0x64')]();},'show':'fade','buttons':[{'text':'OK','click':function(){_handleNewGame();}},{'id':_0x7caf('0x65'),'click':function(){$(this)['dialog'](_0x7caf('0x66'));}}]});$(_0x7caf('0x67'))['dialog']({'modal':!![],'dialogClass':_0x7caf('0x5f'),'autoOpen':![],'position':{'my':'center\x20bottom'},'open':function(a,b){$('.ui-widget-overlay')[_0x7caf('0x63')]()[_0x7caf('0x64')]();},'show':_0x7caf('0x68')});if(localStorage[_0x7caf('0x69')])$(_0x7caf('0x6a'))['val'](localStorage[_0x7caf('0x69')]);if(localStorage[_0x7caf('0x6b')])$(_0x7caf('0x6c'))[_0x7caf('0x6d')](decaesar(decaesar(localStorage['dat'],0x51),0x3));if(localStorage[_0x7caf('0x6e')])$(_0x7caf('0x6f'))[_0x7caf('0x70')]('checked',localStorage[_0x7caf('0x6e')]=='true');$('#lobbyChatInput')['on'](_0x7caf('0x71'),function(a){if(a[_0x7caf('0x72')]==0xd){if($(this)[_0x7caf('0x6d')]()['length']>0x0){client['chat']($(this)[_0x7caf('0x6d')]());$(this)[_0x7caf('0x6d')]('');}}});$(_0x7caf('0x73'))['on'](_0x7caf('0x71'),function(a){if(a[_0x7caf('0x72')]==0xd){if($(this)['val']()[_0x7caf('0x74')]>0x0){client[_0x7caf('0x75')]($(this)[_0x7caf('0x6d')]());$(this)[_0x7caf('0x6d')]('');}}});window[_0x7caf('0x76')]=function(a){a=a||window[_0x7caf('0x77')];mouseX=a[_0x7caf('0x78')];mouseY=a[_0x7caf('0x79')];};apiClient=new WebSystemApiClient(_0x7caf('0x7a'),0x50);apiClient['setCallbackFunctions'](_0x7caf('0x7b'),_handleServers);if(!testMode)apiClient[_0x7caf('0x7c')]();if(testMode)_testFunction(0x0);});window[_0x7caf('0x7d')]=function(){$(_0x7caf('0x7e'))[_0x7caf('0x7f')](_0x7caf('0x80'))[_0x7caf('0x81')](_0x7caf('0x82'),window[_0x7caf('0x83')]/0xc);};function _languageSelected(){i18next[_0x7caf('0x84')]($('#languageSelector')[_0x7caf('0x6d')]());}function _updateLanguage(){$(_0x7caf('0x85'))[_0x7caf('0x86')](function(){$(this)[_0x7caf('0x87')](i18next['t']($(this)[_0x7caf('0x88')](_0x7caf('0x89'))));});$(_0x7caf('0x8a'))[_0x7caf('0x86')](function(){$(this)[_0x7caf('0x6d')](i18next['t']($(this)[_0x7caf('0x88')](_0x7caf('0x8b'))));});$(_0x7caf('0x8c'))['each'](function(){$(this)['attr'](_0x7caf('0x8d'),i18next['t']($(this)[_0x7caf('0x88')](_0x7caf('0x8e'))));});$(_0x7caf('0x8f'))['empty']();if(i18next[_0x7caf('0x21')]=='ja'){Object[_0x7caf('0x90')](HANDICAPS_JA)[_0x7caf('0x1b')](function(a){if(a=='r'||a=='vazoo')return!![];$(_0x7caf('0x8f'))[_0x7caf('0x91')]($('<option\x20/>')[_0x7caf('0x6d')](a)[_0x7caf('0x87')](HANDICAPS_JA[a]));});}$('#modalNewGame')[_0x7caf('0x5e')](_0x7caf('0x92'),_0x7caf('0x8d'),i18next['t'](_0x7caf('0x93')));$(_0x7caf('0x67'))[_0x7caf('0x5e')]('option','title',i18next['t']('challenger.title'));$('[id^=i18n-]')[_0x7caf('0x86')](function(){$(this)[_0x7caf('0x94')](_0x7caf('0x92'),_0x7caf('0x95'),i18next['t']($(this)['attr']('id')['split']('-')[0x1]));});}function _loginTypeChange(){isGuest=$(_0x7caf('0x96'))[_0x7caf('0x6d')]()==0x1;$('#usernameInput')['attr'](_0x7caf('0x97'),isGuest);$(_0x7caf('0x6c'))[_0x7caf('0x88')]('disabled',isGuest);}function _loginButtonClick(){let a=serverGrid[_0x7caf('0x11')]({'selected':!![]})[_0x7caf('0x4d')]();if(a==null){alert(_0x7caf('0x98'));return;}$(_0x7caf('0x99'))['attr'](_0x7caf('0x97'),!![]);if(client!=null)client[_0x7caf('0x66')]();$(_0x7caf('0x9a'))[_0x7caf('0x87')](i18next['t']('login.connecting'));client=new WebSocketClient(a[_0x7caf('0x26')],a[_0x7caf('0x9b')],a[_0x7caf('0x9c')],isGuest?_0x7caf('0x9d'):$(_0x7caf('0x6a'))['val'](),isGuest?_0x7caf('0x9e'):$('#passwordInput')[_0x7caf('0x6d')]());client[_0x7caf('0x9f')]('LOGGED_IN',_handleLoggedIn);client[_0x7caf('0x9f')]('LOGIN_FAILED',_handleLoginFailed);client[_0x7caf('0x9f')](_0x7caf('0xa0'),_handleLobbyIn);client[_0x7caf('0x9f')](_0x7caf('0xa1'),_handleLobbyOut);client[_0x7caf('0x9f')](_0x7caf('0xa2'),_handleChat);client[_0x7caf('0x9f')](_0x7caf('0xa3'),_handleGameChat);client[_0x7caf('0x9f')]('PRIVATECHAT',_handlePrivateChat);client[_0x7caf('0x9f')](_0x7caf('0xa4'),_handleMove);client['setCallbackFunctions'](_0x7caf('0xa5'),_handleGameEnd);client['setCallbackFunctions'](_0x7caf('0xa6'),_handleGeneralResponse);client['setCallbackFunctions'](_0x7caf('0xa7'),_handleClosed);client[_0x7caf('0x9f')](_0x7caf('0xa8'),_handleWho);client[_0x7caf('0x9f')](_0x7caf('0xa9'),_handleList);client[_0x7caf('0x9f')]('GAME',_handleGame);client[_0x7caf('0x9f')]('CHALLENGE',_handleChallenger);client[_0x7caf('0x9f')](_0x7caf('0xaa'),_handleAccept);client[_0x7caf('0x9f')](_0x7caf('0xab'),_handleDecline);client[_0x7caf('0x9f')](_0x7caf('0xac'),_handleGameSummary);client[_0x7caf('0x9f')](_0x7caf('0xad'),_handleStart);client['setCallbackFunctions'](_0x7caf('0xae'),_handleMonitor);client[_0x7caf('0x9f')](_0x7caf('0xaf'),_handleEnter);client[_0x7caf('0xb0')]();}function _refreshButtonClick(){client[_0x7caf('0xb1')]();client[_0x7caf('0xb2')]();}function _waitButtonClick(){$(_0x7caf('0xb3'))[_0x7caf('0x5e')](_0x7caf('0x1c'));}function _enterGame(a){if(board[_0x7caf('0xb4')])return;board['setGame'](a);client[_0x7caf('0xb5')](a[_0x7caf('0xb6')],!![]);}function writeUserMessage(a,c,_0x25ee9a=null,_0x1f5c8d=![],_0xb742f0=!![]){let b;if(c==0x1){b=$(_0x7caf('0xb7'));}else if(c==0x2){b=$(_0x7caf('0xb8'));}a=a[_0x7caf('0xb9')](/</g,'&lt;');a=a['replace'](/&lt;sPAn/g,'<span');a=a[_0x7caf('0xb9')](/&lt;\/SpaN>/g,'</span>');a=a[_0x7caf('0xb9')](/(https?\:\/\/[^\"^\s^\\]+)/g,'<a\x20href=\x22$1\x22\x20target=\x22_blank\x22>$1</a>');a=a[_0x7caf('0xb9')](/\\n/g,_0x7caf('0xba'));$(_0x7caf('0xbb'),{})[_0x7caf('0x81')]({'color':_0x25ee9a?_0x25ee9a:'','font-weight':_0x1f5c8d?_0x7caf('0xbc'):''})[_0x7caf('0xbd')](a)[_0x7caf('0xbe')](b);if(_0xb742f0)b[_0x7caf('0x91')]('<br>');b[_0x7caf('0xbf')]({'scrollTop':b[0x0][_0x7caf('0xc0')]},'fast');}function _interpretCommunicationCode(a,b,c,d,e){writeUserMessage(a+i18next['t'](_0x7caf('0xc1')+b),c,'#008800',d);}function _resignButtonClick(){if(board[_0x7caf('0xc2')]==0x0&&board[_0x7caf('0xc3')][_0x7caf('0xc4')]==!![]||board[_0x7caf('0xc2')]==0x1&&board[_0x7caf('0xc3')][_0x7caf('0xc4')]==![])client[_0x7caf('0xc5')]();}function _rematchButtonClick(){if(board[_0x7caf('0xc6')]()){}}function _closeBoard(){if(board[_0x7caf('0xc6')]())client[_0x7caf('0xc7')]();else if(board[_0x7caf('0xc8')]())client[_0x7caf('0xb5')](board[_0x7caf('0xb4')][_0x7caf('0xb6')],![]);client['who']();client[_0x7caf('0xb2')]();board['close']();_switchLayer(0x1);$(_0x7caf('0xc9'))[_0x7caf('0xca')]();}function sendMoveAsPlayer(a){client[_0x7caf('0xcb')](a);board[_0x7caf('0x49')][_0x7caf('0xcc')](a);board[_0x7caf('0xcd')](a);}function _kifuSelected(a){board['replayMoves'](kifuGrid[_0x7caf('0xce')](Array[_0x7caf('0xcf')](Array(a+0x1)['keys']()))[_0x7caf('0x4d')]());}function sendTimeout(){console['log']('OK');client['timeout']();board[_0x7caf('0xd0')]();}function setBoardConditions(){board[_0x7caf('0xd1')]();let a=![];if(board[_0x7caf('0xc6')]()){$(_0x7caf('0xd2'))[_0x7caf('0xd3')](_0x7caf('0xd4'));$(_0x7caf('0xd5'))[_0x7caf('0x70')]('disabled',_0x7caf('0xd6'));if(board[_0x7caf('0xd7')]){a=!![];$(_0x7caf('0xd8'))[_0x7caf('0x6d')](0x1)[_0x7caf('0x70')]('disabled',!![]);$(_0x7caf('0xd9'))['addClass'](_0x7caf('0xd4'));$(_0x7caf('0xda'))[_0x7caf('0xdb')](_0x7caf('0xd4'));$(_0x7caf('0xdc'))[_0x7caf('0x70')]({'disabled':!![],'checked':!![]});}else{$(_0x7caf('0xd8'))['val'](0x1)[_0x7caf('0x70')](_0x7caf('0x97'),!![]);$(_0x7caf('0xd9'))[_0x7caf('0xdb')](_0x7caf('0xd4'));$('#positionMenuButton,\x20#kifuMenuButton,\x20#rematchButton,\x20#closeGameButton')[_0x7caf('0xd3')](_0x7caf('0xd4'));if(board['game'][_0x7caf('0xdd')]!='r'){$(_0x7caf('0xdc'))[_0x7caf('0x70')]({'disabled':![],'checked':!![]});}else{$(_0x7caf('0xdc'))['prop']({'disabled':!![],'checked':![]});}}}else if(board[_0x7caf('0xc8')]()){$(_0x7caf('0xd8'))[_0x7caf('0x6d')](0x1)[_0x7caf('0x70')](_0x7caf('0x97'),!![]);$(_0x7caf('0xd5'))['prop'](_0x7caf('0x97'),_0x7caf('0xde'));$(_0x7caf('0xd9'))[_0x7caf('0xd3')](_0x7caf('0xd4'));$(_0x7caf('0xdf'))[_0x7caf('0xdb')]('button-disabled');$(_0x7caf('0xdc'))[_0x7caf('0x70')]({'disabled':!![],'checked':!![]});if(board['isPostGame']){a=!![];}else{}}if(a){kifuGrid[_0x7caf('0x13')][_0x7caf('0xe0')]('single');}else{kifuGrid[_0x7caf('0x13')][_0x7caf('0xe0')](_0x7caf('0x57'));}}function _handleNewGame(){let a=$(_0x7caf('0xe1'))[_0x7caf('0x6d')]();if(a==0x1){client['wait']('r',0x384,0x3c);}else if(a==0x2){client['wait']('r',0x258,0x1e);}else if(a==0x3){client[_0x7caf('0xe2')]('r',0x12c,0x1e);}else if(a==0x4){client[_0x7caf('0xe2')]('r',0x0,0x1e);}else if(a==0x5){let b=$(_0x7caf('0xe3'))[_0x7caf('0x6d')]();client[_0x7caf('0xe2')](b,0x3c*$(_0x7caf('0xe4'))[_0x7caf('0x6d')](),$(_0x7caf('0xe5'))[_0x7caf('0x6d')](),b[_0x7caf('0xe6')](/^hc/)?-0x1:0x0);}else if(a==0x6){}else if(a==0x7){}else if(a==0x8){client[_0x7caf('0xe7')]();}$(_0x7caf('0xb3'))['dialog']('close');}function _handleAcceptChallenge(){client[_0x7caf('0xe8')]();_gameAccepted=!![];}function _handleRejectChallenge(a,_0x517e0d=null){client[_0x7caf('0xe9')](_0x517e0d);writeUserMessage(EJ('Rejected\x20the\x20challenge\x20from\x20'+a[_0x7caf('0x26')]+'.',a[_0x7caf('0x26')]+_0x7caf('0xea')),0x1,_0x7caf('0xeb'),!![]);}function _openPlayerInfo(b,_0x1dd799=!![]){let a=$('#player-info-window-'+b[_0x7caf('0x26')]);if(!a[0x0]){a=$('<div></div>',{'id':'player-info-window-'+b[_0x7caf('0x26')],'title':b[_0x7caf('0x26')],'html':_0x7caf('0xec')})['dialog']({'autoOpen':![],'position':{'at':_0x7caf('0xed')+mouseX+_0x7caf('0xee')+mouseY},'close':function(b){if(a[_0x7caf('0x7f')](_0x7caf('0xef'))['html']()=='')a[_0x7caf('0x5e')](_0x7caf('0xf0'))['remove']();},'buttons':[{'text':i18next['t'](_0x7caf('0xf1')),'click':function(){_playerChallengeClick(b);}},{'text':i18next['t'](_0x7caf('0xf2')),'click':function(){_playerDetailClick(b);}},{'text':'PM','click':function(){_playerPMClick(this);}}]});a[_0x7caf('0x7f')]('#privateChatInput')['on'](_0x7caf('0x71'),function(d){if(d[_0x7caf('0x72')]==0xd){if($(this)[_0x7caf('0x6d')]()[_0x7caf('0x74')]>0x0){client['privateChat'](b['name'],$(this)['val']());let c=a[_0x7caf('0x7f')](_0x7caf('0xef'));$(_0x7caf('0xbb'),{})[_0x7caf('0x81')]('color',_0x7caf('0xf3'))[_0x7caf('0x87')]($(this)[_0x7caf('0x6d')]())[_0x7caf('0xbe')](c);c[_0x7caf('0x91')](_0x7caf('0xf4'));c['animate']({'scrollTop':c[0x0][_0x7caf('0xc0')]},_0x7caf('0xf5'));$(this)[_0x7caf('0x6d')]('');}}});}if(_0x1dd799)a[_0x7caf('0x5e')]('open');a['find'](_0x7caf('0xf6'))[_0x7caf('0x88')](_0x7caf('0xf7'),b['avatarURL']());a['find'](_0x7caf('0xf8'))[_0x7caf('0xbd')](b[_0x7caf('0x33')]['flagImgTag27']()+'\x20'+b[_0x7caf('0x33')][_0x7caf('0xf9')]());a[_0x7caf('0x7f')](_0x7caf('0xfa'))[_0x7caf('0xbd')](_0x7caf('0xfb')+b[_0x7caf('0x35')]+'\x20('+makeRankFromRating(b[_0x7caf('0x35')])+')');return a;}function _playerChallengeClick(a){if(a==me)return;if(_challengeUser){writeUserMessage(EJ(_0x7caf('0xfc'),'挑戦は一度に一人に対してしか行えません。'),0x1,_0x7caf('0xeb'));}else if(a[_0x7caf('0xfd')]()){if(a[_0x7caf('0x35')]>=RANK_THRESHOLDS[0x2]&&me[_0x7caf('0xfe')]&&a[_0x7caf('0xff')][_0x7caf('0xe6')](/^r_/)){writeUserMessage(EJ(_0x7caf('0x100'),_0x7caf('0x101')),0x1,_0x7caf('0xeb'));}else if(a[_0x7caf('0xff')][_0x7caf('0xe6')](/_automatch\-/)){client[_0x7caf('0x102')](a);}else{_challengeUser=a;writeUserMessage(EJ(_0x7caf('0x103')+_challengeUser[_0x7caf('0x26')]+_0x7caf('0x104'),_challengeUser[_0x7caf('0x26')]+_0x7caf('0x105')),0x1,'#008800',!![]);client[_0x7caf('0x106')](_challengeUser);}}else if(!me['listAsWaiter']()){writeUserMessage(EJ(_0x7caf('0x107'),_0x7caf('0x108')),0x1,_0x7caf('0xeb'));}else if(a['idle']){writeUserMessage(a['name']+EJ(_0x7caf('0x109'),_0x7caf('0x10a')),0x1,'#008800',!![]);}else if(a[_0x7caf('0x10b')]()){writeUserMessage(a[_0x7caf('0x26')]+EJ(_0x7caf('0x10c'),_0x7caf('0x10d')),0x1,_0x7caf('0xeb'),!![]);}else{me[_0x7caf('0xff')][_0x7caf('0xe6')](/^([0-9a-z]+?)_(.*)-([0-9]*)-([0-9]*)/);client[_0x7caf('0x10e')](a[_0x7caf('0x26')],_0x7caf('0x10f')+RegExp['$3']+','+RegExp['$4']+','+RegExp['$1']);writeUserMessage(EJ(_0x7caf('0x110'),_0x7caf('0x111')+a[_0x7caf('0x26')]+'さんに送信しました。(拒否された場合は連続送信しないで下さい)'),0x1,'#008800');}}function _playerDetailClick(a){window[_0x7caf('0x1c')](_0x7caf('0x112')+EJ('en','ja')+'/players/show/'+a['name']);}function _playerPMClick(a,_0x1c527e=![]){if(_0x1c527e||$(a)[_0x7caf('0x7f')](_0x7caf('0x113'))[_0x7caf('0x81')](_0x7caf('0x114'))==0x1){$(a)[_0x7caf('0x7f')]('div#player-info-layer-1')[_0x7caf('0x81')](_0x7caf('0x114'),0x0);$(a)[_0x7caf('0x7f')]('div#player-info-layer-2')['css'](_0x7caf('0x114'),0x1);}else{$(a)[_0x7caf('0x7f')](_0x7caf('0x113'))[_0x7caf('0x81')](_0x7caf('0x114'),0x1);$(a)[_0x7caf('0x7f')]('div#player-info-layer-2')[_0x7caf('0x81')]('opacity',0x0);}}function _handleGeneralResponse(a){console[_0x7caf('0x7')](_0x7caf('0x115')+a);}function _handleLoggedIn(b){$(_0x7caf('0x9a'))[_0x7caf('0x87')](i18next['t']('login.successfull'));if(!isGuest){localStorage[_0x7caf('0x69')]=$(_0x7caf('0x6a'))[_0x7caf('0x6d')]();localStorage[_0x7caf('0x6b')]=caesar(caesar($(_0x7caf('0x6c'))[_0x7caf('0x6d')](),0x3),0x51);localStorage[_0x7caf('0x6e')]=$('#loginSave')[_0x7caf('0x70')](_0x7caf('0x116'));}_switchLayer(0x1);$('#serverLogo')['prop'](_0x7caf('0xf7'),_0x7caf('0x117')+client[_0x7caf('0x118')]+_0x7caf('0x119'));$(_0x7caf('0x11a'))[_0x7caf('0x87')](client[_0x7caf('0x118')]+'\x20:\x20');let a=b[_0x7caf('0x1a')](':');client[_0x7caf('0x11b')]=a[0x0];users[client[_0x7caf('0x11b')]]=new User(client[_0x7caf('0x11b')]);me=users[client[_0x7caf('0x11b')]];me['setFromLogin'](a);mileage=a[0xc];premium=makePremiumNum(parseInt(a[0xd]),a[0xe]);hidden_prm=premium;$(_0x7caf('0x11c'))[_0x7caf('0x87')](me[_0x7caf('0x26')]+'\x20:\x20');$(_0x7caf('0x11d'))[_0x7caf('0x87')]('R'+me['rate']+_0x7caf('0x11e'));$('#header-mile')['text'](mileage+EJ(_0x7caf('0x11f'),'\x20Dマイル\x20:\x20'));$(_0x7caf('0x120'))[_0x7caf('0x87')](makePremiumName(premium)+EJ('\x20class',_0x7caf('0x121')));client[_0x7caf('0xb1')](!![]);client[_0x7caf('0xb2')]();if(testMode)_testFunction(0x2);}function _handleLoginFailed(a){$(_0x7caf('0x9a'))[_0x7caf('0x87')](i18next['t'](a));$('#loginButton')[_0x7caf('0x88')](_0x7caf('0x97'),![]);}function _handleWho(b){let a=b[_0x7caf('0x122')]()['split']('\x0a');a[_0x7caf('0x1b')](function(c){let b=c[_0x7caf('0x1a')](',');let a=b['shift']();if(users[a]==null)users[a]=new User(a);users[a]['setFromWho'](b);});playerGrid[_0x7caf('0x43')]();waiterGrid[_0x7caf('0x43')]();Object['keys'](users)[_0x7caf('0x1b')](function(a){playerGrid['row'][_0x7caf('0x123')](users[a]['gridObject']());if(users[a][_0x7caf('0xfd')]())waiterGrid[_0x7caf('0x11')][_0x7caf('0x123')](users[a]['gridObject']());});playerGrid[_0x7caf('0x124')]();waiterGrid[_0x7caf('0x124')]();}function _handleList(c){let a=0x0;let b=c[_0x7caf('0x122')]()[_0x7caf('0x1a')]('\x0a');gameGrid[_0x7caf('0x43')]();b['forEach'](function(f){a+=0x1;let b=f[_0x7caf('0x1a')]('\x20');let c=users[b[0x0]['split']('+')[0x2]];if(!c){c=new User(b[0x0][_0x7caf('0x1a')]('+')[0x2]);if(b[0x0][_0x7caf('0xe6')](/^STUDY\+/))c[_0x7caf('0x125')]=0x1;else c[_0x7caf('0x126')](b[0x2],parseInt(b[0x4]));}let d=users[b[0x0][_0x7caf('0x1a')]('+')[0x3]];if(!d){d=new User(b[0x0][_0x7caf('0x1a')]('+')[0x3]);if(b[0x0][_0x7caf('0xe6')](/^STUDY\+/))d['countryCode']=0x2;else d['setFromList'](b[0x3],parseInt(b[0x5]));}let e=new Game(a,b[0x0],c,d);e[_0x7caf('0x126')](parseInt(b[0x1]),b[0x6],b[0x7]==_0x7caf('0xde'),b[0x8]=='true',parseInt(b[0x9]),b[0xa]);gameGrid[_0x7caf('0x11')][_0x7caf('0x123')](e);});gameGrid[_0x7caf('0x124')]();}function _handleLobbyIn(f){let a=f['split'](',');let c='';let b=a[0x0];if(a[0x2]==_0x7caf('0xde')&&parseInt(a[0x1])<RANK_THRESHOLDS[0x0]){c=EJ(_0x7caf('0x127'),_0x7caf('0x128'));}else{c=EJ('A\x20','')+makeRankFromRating(parseInt(a[0x1]));}let d=a[0xc]!=null&&a[0xc][_0x7caf('0xe6')](/81AR/);if(_isFavorite(b)||_isColleague(b)||parseInt(a[0x1])>=RANK_THRESHOLDS[0x3]||parseInt(a[0x6])>=0x7||users[_0x7caf('0x74')]<0x28&&b!=me['name']){writeUserMessage(_0x7caf('0x129')+_name2link(b)+EJ(_0x7caf('0x12a')+(d?_0x7caf('0x12b'):'')+'.\x20'+c+_0x7caf('0x12c')+countries[parseInt(a[0x3])][_0x7caf('0x12d')]+'.'+(parseInt(a[0x6])>=0x3?_0x7caf('0x12e')+a[0x6]+_0x7caf('0x12f'):''),_0x7caf('0x130')+(d?_0x7caf('0x131'):'')+'ログインしました。\x20('+countries[parseInt(a[0x3])][_0x7caf('0x132')]+',\x20'+c+')'+(parseInt(a[0x6])>=0x3?_0x7caf('0x133')+a[0x6]+_0x7caf('0x134'):'')),0x1,_0x7caf('0xeb'),_isFavorite(b)||_isColleague(b));}let e=![];if(b==me['name'])return;if(!users[b]){users[b]=new User(b);e=!![];}else{}users[b][_0x7caf('0x135')](parseInt(a[0x1]),parseInt(a[0x3]));if(e){}playerGrid['row']['add'](users[b][_0x7caf('0x136')]())[_0x7caf('0x124')]();}function _handleLobbyOut(a){if(currentLayer==0x1){if(_isFavorite(a)||_isColleague(a)){writeUserMessage(_0x7caf('0x129')+a+i18next['t'](_0x7caf('0x137')),0x1,_0x7caf('0xeb'));}}playerGrid[_0x7caf('0x11')]('#'+a)['remove']()[_0x7caf('0x124')]();waiterGrid[_0x7caf('0x11')]('#'+a)[_0x7caf('0x138')]()[_0x7caf('0x124')]();delete users[a];}function _handleGame(c){if(c[_0x7caf('0xe6')](/^\[(.+)\]$/)){let b=RegExp['$1'];if(users[b]){users[b][_0x7caf('0x139')]('*','*','');if(playerInfoWindows[b])playerInfoWindows[b][_0x7caf('0x13a')]();}waiterGrid[_0x7caf('0x11')]('#'+b)['remove']()[_0x7caf('0x124')]();}else{let a=c[_0x7caf('0xe6')](/^([0-9a-z]+?)_(.*)-([0-9]*)-([0-9]*),/);if(a[0x2][_0x7caf('0xe6')](/^@/))return;if(a[0x2][_0x7caf('0xe6')](/\-\-/)){name=a[0x2][_0x7caf('0x1a')]('--')[0x0];}else{name=a[0x2][_0x7caf('0x1a')]('.')[0x0];}a=c['match'](/(.+),(\+|\-|\*),(.+)$/);if(users[name])users[name][_0x7caf('0x139')](a[0x1],a[0x2],a[0x3]=='*'?'':a[0x3]);waiterGrid[_0x7caf('0x11')]('#'+name)[_0x7caf('0x138')]()[_0x7caf('0x124')]();waiterGrid['row'][_0x7caf('0x123')](users[name]['gridObject']())[_0x7caf('0x124')]();}playerGrid[_0x7caf('0x11')]('#'+name)[_0x7caf('0x4d')](users[name][_0x7caf('0x136')]())[_0x7caf('0x124')]();}function _handleChallenger(a){sp['play'](_0x7caf('0x13b'));$(_0x7caf('0x67'))['dialog'](_0x7caf('0x1c'));_initModalChallenger(users[a]);}function _handleAccept(a){_gameAccepted=!![];_interpretCommunicationCode('',_0x7caf('0x13c'),0x1,!![],![]);if(_challengeUser)client[_0x7caf('0x102')](_challengeUser);}function _handleDecline(a){if(a[_0x7caf('0xe6')](/^([A-Z]\d{3})/)){_interpretCommunicationCode('',RegExp['$1'],0x1,!![],![]);}else{writeUserMessage(a,0x1,_0x7caf('0xeb'),!![]);}_challengeUser=null;_gameAccepted=![];}function _handleGameSummary(f){_gameAccepted=![];let c;let d;let a;let b='';let e;let g;f[_0x7caf('0x1a')]('\x0a')['forEach'](function(f){if(f[_0x7caf('0xe6')](/^Name\+\:(.+)$/)){c=users[RegExp['$1']];}else if(f[_0x7caf('0xe6')](/^Name\-\:(.+)$/)){d=users[RegExp['$1']];}else if(f[_0x7caf('0xe6')](/^Your_Turn\:(.)$/)){a=RegExp['$1']=='+';}else if(f[_0x7caf('0xe6')](/^To_Move\:(.)$/)){b='P0'+RegExp['$1']+'\x0a';}else if(f[_0x7caf('0xe6')](/^P[0-9\+\-]/)){b+=f+'\x0a';}else if(f[_0x7caf('0xe6')](/^START:(.+):(\d+)$/)){e=RegExp['$1'];g=RegExp['$2'];}});board['setGame'](new Game(0x0,e,c,d));board[_0x7caf('0x13d')](a);board[_0x7caf('0x13e')](b);board['startGame'](a);setBoardConditions();_switchLayer(0x2);return;if(a)writeUserMessage(EJ(_0x7caf('0x13f')+(board['gameType']=='hc'?_0x7caf('0x140'):_0x7caf('0x141')),_0x7caf('0x142')+(board['gameType']=='hc'?'は下手(したて)':_0x7caf('0x143'))+_0x7caf('0x144')),0x2,_0x7caf('0xeb'));else writeUserMessage(EJ(_0x7caf('0x145')+(board['gameType']=='hc'?'(Handicap\x20giver).\x0a':_0x7caf('0x146')),_0x7caf('0x142')+(board[_0x7caf('0xdd')]=='hc'?_0x7caf('0x147'):_0x7caf('0x148'))+_0x7caf('0x144')),0x2,_0x7caf('0xeb'));}function _handleMove(d,c){if(board['isPlaying']()){let a=d[_0x7caf('0x149')](0x0,0x1)=='+';board['getPlayersTimer'](a)['useTime'](c);if(a&&board[_0x7caf('0xc2')]==0x0||!a&&board[_0x7caf('0xc2')]==0x1){board['moves'][board[_0x7caf('0x49')][_0x7caf('0x74')]-0x1][_0x7caf('0x14a')]=c;}else{let b=new Movement(board[_0x7caf('0x14b')]()['num']+0x1);b['setFromCSA'](d);b[_0x7caf('0x14a')]=c;board[_0x7caf('0x14c')](b);board[_0x7caf('0x14d')]();}board[_0x7caf('0x14e')][_0x7caf('0x14f')]();}}function _handleGameEnd(b){board[_0x7caf('0xd0')]();let c=b[_0x7caf('0x1a')]('\x0a')[0x0];let d=b[_0x7caf('0x1a')]('\x0a')[0x1];board[_0x7caf('0xd7')]=!![];let a=new Movement(board[_0x7caf('0x14b')]()[_0x7caf('0x150')]+0x1);a[_0x7caf('0x151')](c);board[_0x7caf('0x49')][_0x7caf('0xcc')](a);writeUserMessage(a[_0x7caf('0x152')](),0x2,_0x7caf('0x153'));switch(d){case'LOSE':board[_0x7caf('0x154')]=0x2;board['playerInfos'][0x1-board[_0x7caf('0xc2')]]['find'](_0x7caf('0x155'))[_0x7caf('0xd3')](_0x7caf('0x156'));writeUserMessage(EJ(_0x7caf('0x157'),_0x7caf('0x158')),0x2,'#DD0088',!![]);sp[_0x7caf('0x159')](![]);break;case _0x7caf('0x15a'):board[_0x7caf('0x154')]=0x1;board[_0x7caf('0x15b')][board[_0x7caf('0xc2')]][_0x7caf('0x7f')](_0x7caf('0x155'))[_0x7caf('0xd3')](_0x7caf('0x156'));writeUserMessage(EJ(_0x7caf('0x15c'),_0x7caf('0x15d')),0x2,_0x7caf('0x153'),!![]);sp[_0x7caf('0x159')](!![]);break;case'DRAW':if(board[_0x7caf('0xc2')]==0x1)board[_0x7caf('0x154')]=0x2;else if(board[_0x7caf('0xc2')]==0x0)board[_0x7caf('0x154')]=0x1;writeUserMessage(EJ(_0x7caf('0x15e'),_0x7caf('0x15f')),0x2,_0x7caf('0x153'),!![]);sp[_0x7caf('0x159')](!![]);break;case'SENTE_WIN':board[_0x7caf('0x15b')][0x0][_0x7caf('0x7f')]('#player-info-name')[_0x7caf('0xd3')](_0x7caf('0x156'));writeUserMessage(EJ(_0x7caf('0x160'),_0x7caf('0x161')),0x2,_0x7caf('0x153'),!![]);sp[_0x7caf('0x159')](!![]);break;case'GOTE_WIN':board[_0x7caf('0x15b')][0x1][_0x7caf('0x7f')](_0x7caf('0x155'))['addClass']('name-winner');writeUserMessage(EJ(_0x7caf('0x162'),_0x7caf('0x163')),0x2,'#DD0088',!![]);sp[_0x7caf('0x159')](!![]);break;}setBoardConditions();board[_0x7caf('0x14d')]();}function _handleMonitor(g){let b=null;let f=g[_0x7caf('0x1a')]('\x0a');let a=[];let e=0x0;let c='';let d='';f[_0x7caf('0x1b')](function(f){if(f[_0x7caf('0xe6')](/^([-+][0-9]{4}[A-Z]{2}|%TORYO)$/)){a['push'](RegExp['$1']);}else if(f[_0x7caf('0xe6')](/^T(\d+)$/)){a[a[_0x7caf('0x74')]-0x1]+=','+RegExp['$1'];}else if(f[_0x7caf('0xe6')](/^kifu_id:(.+)$/)){b=RegExp['$1'];}else if(f['match'](/^\$SINCE_LAST_MOVE:(\d+)$/)){e=parseInt(RegExp['$1']);}else if(f['match'](/^To_Move:([\+\-])$/)){c+='P0'+RegExp['$1']+'\x0a';}else if(f[_0x7caf('0xe6')](/^P[0-9+-].*/)){c+=f+'\x0a';}else if(f[_0x7caf('0xe6')](/^#(SENTE_WIN|GOTE_WIN|DRAW|RESIGN|TIME_UP|ILLEGAL_MOVE|SENNICHITE|OUTE_SENNICHITE|JISHOGI|DISCONNECT|CATCH|TRY)/)){d+=RegExp['$1']+'\x0a';}});if(b){board[_0x7caf('0x164')](b,c,a,e);setBoardConditions();_switchLayer(0x2);}else{a[_0x7caf('0x1b')](function(b){let a=new Movement(board['getFinalMove']()[_0x7caf('0x150')]+0x1);a[_0x7caf('0x165')](b[_0x7caf('0x1a')](',')[0x0]);a[_0x7caf('0x14a')]=parseInt(b['split'](',')[0x1]);board[_0x7caf('0x166')](a);});}if(d!='')_handleGameEnd(d);}function _handleEnter(){}function _handleStart(b){let a=b[_0x7caf('0x1a')]('+');let c=a[0x1][_0x7caf('0xe6')](/^([0-9a-z]+?)_(.*)-([0-9]*)-([0-9]*)$/);let d;if(a[0x0]==_0x7caf('0x167')){let e=new User(a[0x2]);e[_0x7caf('0x168')](!![]);var f=new User(a[0x3]);f[_0x7caf('0x168')](![]);d=new Game(0x0,b,e,f);}else{writeUserMessage(EJ(_0x7caf('0x169'),_0x7caf('0x16a'))+a[0x2]+EJ(_0x7caf('0x16b'),_0x7caf('0x16c'))+a[0x3]+'\x20/\x20'+EJ(HANDICAPS_EN[c[0x1]],HANDICAPS_JA[c[0x1]]),0x1,'#008800');if(users[a[0x2]]){users[a[0x2]][_0x7caf('0x16d')](a[0x1],'+');playerGrid[_0x7caf('0x11')]('#'+a[0x2])[_0x7caf('0x138')]();playerGrid[_0x7caf('0x11')][_0x7caf('0x123')](users[a[0x2]][_0x7caf('0x136')]());waiterGrid[_0x7caf('0x11')]('#'+a[0x2])[_0x7caf('0x138')]();}if(users[a[0x3]]){users[a[0x3]][_0x7caf('0x16d')](a[0x1],'-');playerGrid[_0x7caf('0x11')]('#'+a[0x3])[_0x7caf('0x138')]();playerGrid[_0x7caf('0x11')][_0x7caf('0x123')](users[a[0x3]][_0x7caf('0x136')]());waiterGrid[_0x7caf('0x11')]('#'+a[0x3])[_0x7caf('0x138')]();}playerGrid['draw']();waiterGrid[_0x7caf('0x124')]();d=new Game(0x0,b,users[a[0x2]],users[a[0x3]]);}gameGrid[_0x7caf('0x11')][_0x7caf('0x123')](d[_0x7caf('0x136')]());gameGrid[_0x7caf('0x124')]();}function _handleChat(b,a){if(a['match'](/^\[\#\#BROADCAST\](.+)$/)){return;}if(a[_0x7caf('0xe6')](/^\[\#\#WINS\](\d+)$/)){writeUserMessage(_name2link(b)+EJ(_0x7caf('0x16e'),_0x7caf('0x16f'))+parseInt(RegExp['$1'])+EJ('\x20games!',_0x7caf('0x170')),0x1,_0x7caf('0xeb'),!![]);return;}if(a[_0x7caf('0xe6')](/^\[\#\#EXP\](.+),(\d+)$/)){return;}if(a[_0x7caf('0xe6')](/^\[\#\#INFONEW\]/)){return;}if(a[_0x7caf('0xe6')](/^\[##.+\]/))return;if(_isFavorite(b)){writeUserMessage('['+_name2link(b)+']\x20'+a,0x1,'#DD7700');}else if(_isColleague(b)){writeUserMessage('['+_name2link(b)+']\x20'+a,0x1,_0x7caf('0x171'));}else if(a[_0x7caf('0xe6')](/\[auto\-chat\]/)){writeUserMessage('['+_name2link(b)+']\x20'+a,0x1,_0x7caf('0x172'));}else if(b==me['name']){writeUserMessage('['+_name2link(b)+']\x20'+a,0x1,_0x7caf('0x173'));}else{writeUserMessage('['+_name2link(b)+']\x20'+a,0x1,_0x7caf('0x174'));}}function _handleGameChat(a,b){if(!board[_0x7caf('0xb4')])return;if(b[_0x7caf('0xe6')](/\[\#\#HOVER\](\d+),(\d+)$/)){}else if(b['match'](/^\[##.+\]/)){}else if(b[_0x7caf('0xe6')](/^\[auto\-chat\]\s#([A-Z]\d{3})$/)){_interpretCommunicationCode(a,RegExp['$1'],0x2,![],!![]);}else{if(a==board[_0x7caf('0xb4')]['black']['name']){writeUserMessage('['+_name2link(a)+']\x20'+b,0x2,_0x7caf('0x174'));}else if(a==board[_0x7caf('0xb4')][_0x7caf('0x175')][_0x7caf('0x26')]){writeUserMessage('['+_name2link(a)+']\x20'+b,0x2,'#666666');}else if(a==me[_0x7caf('0x26')]){writeUserMessage('['+_name2link(a)+']\x20'+b,0x2,_0x7caf('0x173'));}else{writeUserMessage('['+_name2link(a)+']\x20'+b,0x2,_0x7caf('0x176'));}}}function _handlePrivateChat(d,a){if(a[_0x7caf('0xe6')](/^\[\#\#STUDY\](\d+)\/(.+)$/)){return;}else if(a[_0x7caf('0xe6')](/^\[\#\#FITNESS\](\d),(\d)$/)){return;}else if(a['match'](/^\[\#\#INVITE\](\d+),(\d+),(.+)$/)){return;}else if(a[_0x7caf('0xe6')](/^\[\#\#REJECT\]/)){return;}else if(a[_0x7caf('0xe6')](/^\[auto\-PM\]/)){return;}let b=$(_0x7caf('0x177')+d);if(!b[0x0]&&users[d])b=_openPlayerInfo(users[d],![]);let c=b['find'](_0x7caf('0xef'));$('<span></span>',{})[_0x7caf('0x81')](_0x7caf('0x178'),_0x7caf('0x179'))[_0x7caf('0x87')](a)['appendTo'](c);c['append'](_0x7caf('0xf4'));c[_0x7caf('0xbf')]({'scrollTop':c[0x0][_0x7caf('0xc0')]},_0x7caf('0xf5'));_playerPMClick(b,!![]);if(!b[_0x7caf('0x5e')](_0x7caf('0x17a'))&&!board[_0x7caf('0x17b')]()){writeUserMessage(_0x7caf('0x17c')+_name2link(d)+']\x20'+a[_0x7caf('0xb9')](/^\[\#\#URGENT\]/,''),0x1,_0x7caf('0x17d'));if(currentLayer==0x2)writeUserMessage(_0x7caf('0x17c')+_name2link(name)+']\x20'+a['replace'](/^\[\#\#URGENT\]/,''),0x2,'#FF0000');}}function _handleClosed(){$(_0x7caf('0x9a'))[_0x7caf('0x87')](i18next['t']('login.closed'));$(_0x7caf('0x99'))[_0x7caf('0x88')]('disabled',![]);$(_0x7caf('0x99'))[_0x7caf('0x88')](_0x7caf('0x17e'),i18next['t'](_0x7caf('0x17f')));_switchLayer(0x0);users=new Object();playerGrid[_0x7caf('0x43')]()['draw']();waiterGrid[_0x7caf('0x43')]()[_0x7caf('0x124')]();gameGrid[_0x7caf('0x43')]()[_0x7caf('0x124')]();}function _handleServers(a){serverGrid[_0x7caf('0x43')]();serverGrid['rows']['add'](a);serverGrid[_0x7caf('0x124')]();serverGrid[_0x7caf('0x11')]('#EARTH')[_0x7caf('0x13')]();if(testMode)_testFunction(0x1);}function _switchLayer(a){if(a==0x0){$('div#layerLogin')[_0x7caf('0x81')](_0x7caf('0x180'),_0x7caf('0x181'));$(_0x7caf('0x182'))['css'](_0x7caf('0x180'),_0x7caf('0x181'));}else if(a==0x1){$('div#layerLobby')[_0x7caf('0x81')](_0x7caf('0x180'),_0x7caf('0x181'));$(_0x7caf('0x183'))[_0x7caf('0x81')](_0x7caf('0x180'),_0x7caf('0x184'));}else if(a==0x2){$(_0x7caf('0x183'))[_0x7caf('0x81')](_0x7caf('0x180'),'none');$('div#layerLobby')['css']('display',_0x7caf('0x184'));}currentLayer=a;}function _name2link(a){return _0x7caf('0x185')+a+_0x7caf('0x186')+a+_0x7caf('0x187');}function _isFavorite(a){return![];}function _isColleague(a){return![];}