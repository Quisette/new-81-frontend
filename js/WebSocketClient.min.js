var _0xade4=['V0lO','TE9TRQ==','RFJBVw==','X2NhbGxiYWNrV2l0aEJ1ZmZlcg==','Q0hBTExFTkdF','QUNDRVBU','REVDTElORQ==','K09L','TU9OSVRPUg==','a2lmdV9pZDo=','Q0hBVA==','R0FNRUNIQVQ=','UFJJVkFURUNIQVQ=','TUlMRQ==','RVhQ','TE9CQllfSU4=','TE9CQllfT1VU','RU5URVI=','RElTQ09OTkVDVA==','V0hP','TElTVA==','R0FNRQ==','U1RBUlQ=','UkVTVUxU','RVJST1I=','b25lcnJvcg==','dGV4dA==','Y29kZS5MMDA1','b25jbG9zZQ==','Q29ubmVjdGlvbiBjbG9zZWQu','Q0xPU0VE','I2xvZ2luQWxlcnQ=','bG9naW4ubG9nZ2luZw==','c2VuZA==','TE9HSU4gIA==','IHgyIA==','d2hv','JSVXSE8y','RklSU1Q=','bGlzdA==','Y2hhdA==','JSVDSEFUIA==','JSVHQU1FQ0hBVCA6IA==','JSVHQU1FQ0hBVCA=','JSVQUklWQVRFQ0hBVCA=','d2FpdA==','dG9TdHJpbmc=','cmFuZG9t','Y2hhbGxlbmdl','bmFtZQ==','YWNjZXB0','ZGVjbGluZQ==','c3RvcFdhaXRpbmc=','bW92ZQ==','dG9DU0E=','cmVzaWdu','Y2xvc2VHYW1l','Q0xPU0U=','JSUlVElNRU9VVA==','bW9uaXRvcg==','JSVNT05JVE9SMg==','U2VudDog','Y2xvc2U=','X3BvcnQ=','dXNlcm5hbWU=','X3Bhc3N3b3Jk','X3NvY2tldA==','X2NhbGxiYWNrRnVuY3Rpb25z','X2J1ZmZlcg==','c2VydmVyTmFtZQ==','X3JlYWRpbmdHYW1lU3VtbWFyeQ==','c3RhdHVz','cmVzaWduVGltZQ==','c2V0Q2FsbGJhY2tGdW5jdGlvbnM=','Y29ubmVjdA==','d3M6Ly8=','X2hvc3Q=','b25vcGVu','X2hhbmRsZVNvY2tldE9wZW4=','b25tZXNzYWdl','bG9n','UmVzcG9uc2U6IA==','c3BsaXQ=','Zm9yRWFjaA==','bWF0Y2g=','X2xvZ2lu','Y2FsYw==','Y2xpZW50UGFzcw==','TE9HR0VEX0lO','TE9HSU5fRkFJTEVE','X3N0b3JlQnVmZmVy','R0FNRV9TVU1NQVJZ','TU9WRQ==','R0FNRV9FTkQ='];(function(a,c){var b=function(b){while(--b){a['push'](a['shift']());}};b(++c);}(_0xade4,0x159));var _0x4ade=function(b,d){b=b-0x0;var a=_0xade4[b];if(_0x4ade['initialized']===undefined){(function(){var a;try{var b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');a=b();}catch(b){a=window;}var c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';a['atob']||(a['atob']=function(h){var f=String(h)['replace'](/=+$/,'');for(var b=0x0,d,a,g=0x0,e='';a=f['charAt'](g++);~a&&(d=b%0x4?d*0x40+a:a,b++%0x4)?e+=String['fromCharCode'](0xff&d>>(-0x2*b&0x6)):0x0){a=c['indexOf'](a);}return e;});}());_0x4ade['base64DecodeUnicode']=function(e){var b=atob(e);var c=[];for(var a=0x0,d=b['length'];a<d;a++){c+='%'+('00'+b['charCodeAt'](a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(c);};_0x4ade['data']={};_0x4ade['initialized']=!![];}var c=_0x4ade['data'][b];if(c===undefined){a=_0x4ade['base64DecodeUnicode'](a);_0x4ade['data'][b]=a;}else{a=c;}return a;};'use strict';class WebSocketClient{constructor(a,b,c,d,e){this['_host']=b;this[_0x4ade('0x0')]=c;this[_0x4ade('0x1')]=d;this[_0x4ade('0x2')]=e;this[_0x4ade('0x3')]=null;this[_0x4ade('0x4')]=new Object();this[_0x4ade('0x5')]=new Object();this[_0x4ade('0x6')]=a;this[_0x4ade('0x7')]=![];this[_0x4ade('0x8')]=null;this[_0x4ade('0x9')]=0x0;}[_0x4ade('0xa')](a,b){this[_0x4ade('0x4')][a]=b;}[_0x4ade('0xb')](){this[_0x4ade('0x3')]=new WebSocket(_0x4ade('0xc')+this[_0x4ade('0xd')]+':'+this['_port']);var a=this;this['_socket'][_0x4ade('0xe')]=function(b){a[_0x4ade('0xf')]();};this[_0x4ade('0x3')][_0x4ade('0x10')]=function(b){console[_0x4ade('0x11')](_0x4ade('0x12')+b['data']);var c=b['data'][_0x4ade('0x13')]('\x0a');c[_0x4ade('0x14')](function(b){if(currentLayer==0x0){if(b[_0x4ade('0x15')](/^##\[HANDSHAKE\](.+)$/)){a[_0x4ade('0x16')](CybozuLabs['MD5'][_0x4ade('0x17')](config[_0x4ade('0x18')]+RegExp['$1']));}else if(b[_0x4ade('0x15')](/^LOGIN:(.+)\sOK$/)){a[_0x4ade('0x2')]='';a['_callbackFunctions'][_0x4ade('0x19')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/LOGIN:incorrect ([A-Z]\d{3})/)){a[_0x4ade('0x4')][_0x4ade('0x1a')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/LOGIN:incorrect/)){a[_0x4ade('0x4')][_0x4ade('0x1a')]('L003');}}else if(a[_0x4ade('0x7')]){if(b=='END\x20Game_Summary')a['_readingGameSummary']=![];else a[_0x4ade('0x1b')](_0x4ade('0x1c'),b);}else{if(a[_0x4ade('0x8')]==0x2){if(b[_0x4ade('0x15')](/^%TORYO,T(\d+)$/)){a[_0x4ade('0x9')]=parseInt(RegExp['$1']);return;}else if(b[_0x4ade('0x15')](/^([-+][0-9]{4}[A-Z]{2}),T(\d+)$/)){a[_0x4ade('0x4')][_0x4ade('0x1d')](RegExp['$1'],parseInt(RegExp['$2']));return;}else if(b['match'](/^#(WIN|LOSE|DRAW|RESIGN|TIME_UP|ILLEGAL_MOVE|SENNICHITE|OUTE_SENNICHITE|JISHOGI|DISCONNECT|CATCH|TRY)/)){a['_storeBuffer'](_0x4ade('0x1e'),RegExp['$1']);if(RegExp['$1']==_0x4ade('0x1f')||RegExp['$1']==_0x4ade('0x20')||RegExp['$1']==_0x4ade('0x21')){a['status']=0x0;a['_callbackWithBuffer'](_0x4ade('0x1e'));}return;}}else{if(b=='BEGIN\x20Game_Summary'){a[_0x4ade('0x7')]=!![];return;}else if(b[_0x4ade('0x15')](/^START\:/)){a[_0x4ade('0x8')]=0x2;a[_0x4ade('0x1b')](_0x4ade('0x1c'),b);a[_0x4ade('0x22')](_0x4ade('0x1c'));return;}else if(b[_0x4ade('0x15')](/^##\[CHALLENGE\]\[(.+)\]$/)){a[_0x4ade('0x4')][_0x4ade('0x23')](RegExp['$1']);return;}else if(b['match'](/^##\[ACCEPT\](.*)$/)){a[_0x4ade('0x4')][_0x4ade('0x24')](RegExp['$1']);return;}else if(b[_0x4ade('0x15')](/^##\[DECLINE\](.*)$/)){a['_callbackFunctions'][_0x4ade('0x25')](RegExp['$1']);return;}else if(b[_0x4ade('0x15')](/^##\[MONITOR2\]\[(.*)\]\s(.+)$/)){if(RegExp['$2']==_0x4ade('0x26'))a[_0x4ade('0x22')]('MONITOR');else if(RegExp['$2']=='V2')a[_0x4ade('0x1b')](_0x4ade('0x27'),_0x4ade('0x28')+RegExp['$1']);else a[_0x4ade('0x1b')](_0x4ade('0x27'),RegExp['$2']);return;}}if(b[_0x4ade('0x15')](/^##\[CHAT\]\[(.+)\]\s(.+)$/)){a['_callbackFunctions'][_0x4ade('0x29')](RegExp['$1'],RegExp['$2']);}else if(b['match'](/^##\[GAMECHAT\]\[(.+)\]\s(.+)$/)){a[_0x4ade('0x4')][_0x4ade('0x2a')](RegExp['$1'],RegExp['$2']);}else if(b[_0x4ade('0x15')](/^##\[PRIVATECHAT\]\[(.+)\]\s(.+)$/)){a[_0x4ade('0x4')][_0x4ade('0x2b')](RegExp['$1'],RegExp['$2']);}else if(b[_0x4ade('0x15')](/^##\[MILE\](.+)$/)){a[_0x4ade('0x4')][_0x4ade('0x2c')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[EXP\](.+)$/)){a[_0x4ade('0x4')][_0x4ade('0x2d')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[LOBBY_IN\](.+)$/)){a[_0x4ade('0x4')][_0x4ade('0x2e')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[LOBBY_OUT\]\[(.+)\]$/)){a[_0x4ade('0x4')][_0x4ade('0x2f')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[ENTER\]\[(.+)\]$/)){a[_0x4ade('0x4')][_0x4ade('0x30')](RegExp['$1']);}else if(b['match'](/^##\[LEAVE\]\[(.+)\]$/)){a[_0x4ade('0x4')]['LEAVE'](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[DISCONNECT\]\[(.+)\]$/)){a['_callbackFunctions'][_0x4ade('0x31')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[WHO2\]\s(.+)$/)){if(RegExp['$1']==_0x4ade('0x26'))a[_0x4ade('0x22')](_0x4ade('0x32'));else a[_0x4ade('0x1b')]('WHO',RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[LIST\]\s(.+)$/)){if(RegExp['$1']=='+OK')a[_0x4ade('0x22')]('LIST');else a[_0x4ade('0x1b')](_0x4ade('0x33'),RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[GAME\](.*)$/)){a[_0x4ade('0x4')][_0x4ade('0x34')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[START\]\[(.*)\]$/)){a['_callbackFunctions'][_0x4ade('0x35')](RegExp['$1']);}else if(b[_0x4ade('0x15')](/^##\[RESULT\](.*)$/)){a[_0x4ade('0x4')][_0x4ade('0x36')](RegExp['$1']);}else if(b['match'](/^##\[ERROR\](.+)$/)){a[_0x4ade('0x4')][_0x4ade('0x37')](RegExp['$1']);}}});};this[_0x4ade('0x3')][_0x4ade('0x38')]=function(a){$('#loginAlert')[_0x4ade('0x39')](i18next['t'](_0x4ade('0x3a')));};this[_0x4ade('0x3')][_0x4ade('0x3b')]=function(b){console[_0x4ade('0x11')](_0x4ade('0x3c'));a[_0x4ade('0x4')][_0x4ade('0x3d')]();};}[_0x4ade('0x22')](a){if(this[_0x4ade('0x5')][a]==undefined||this[_0x4ade('0x5')][a]=='')return;this[_0x4ade('0x4')][a](this[_0x4ade('0x5')][a]);this[_0x4ade('0x5')][a]='';}[_0x4ade('0x1b')](a,b){if(this[_0x4ade('0x5')][a]==null)this[_0x4ade('0x5')][a]='';this[_0x4ade('0x5')][a]+=b+'\x0a';}[_0x4ade('0xf')](){console[_0x4ade('0x11')]('connected');}[_0x4ade('0x16')](a){$(_0x4ade('0x3e'))[_0x4ade('0x39')](i18next['t'](_0x4ade('0x3f')));this[_0x4ade('0x40')](_0x4ade('0x41')+this['username']+'\x20'+this[_0x4ade('0x2')]+_0x4ade('0x42')+a);}[_0x4ade('0x43')](_0x44985d=![]){this['send'](_0x4ade('0x44')+(_0x44985d?_0x4ade('0x45'):''));}[_0x4ade('0x46')](){this[_0x4ade('0x40')]('%%LIST');}[_0x4ade('0x47')](a){this[_0x4ade('0x40')](_0x4ade('0x48')+a);}['gameChat'](a,_0xe3bd86=null){if(_0xe3bd86==null){this[_0x4ade('0x40')](_0x4ade('0x49')+a);}else{this[_0x4ade('0x40')](_0x4ade('0x4a')+_0xe3bd86+'\x20'+a);}}['privateChat'](a,b){this['send'](_0x4ade('0x4b')+a+'\x20'+b);}[_0x4ade('0x4c')](c,d,e,_0x7d4fbf=0x0,_0x15c2b0='',_0x49965f='',_0x4aac3f=''){let b=c+'_'+this[_0x4ade('0x1')]+_0x4aac3f+_0x15c2b0+'-'+d[_0x4ade('0x4d')]()+'-'+e[_0x4ade('0x4d')]()+(_0x49965f==''?'':','+_0x49965f);let a='*';if(_0x7d4fbf>0x0){a='+';}else if(_0x7d4fbf<0x0){a='-';}else if(Math['round'](Math[_0x4ade('0x4e')]())==0x1){a='+';}else{a='-';}this['send']('%%GAME\x20'+b+'\x20'+a);}[_0x4ade('0x4f')](a){this[_0x4ade('0x40')]('%%CHALLENGE\x20'+a[_0x4ade('0x50')]);}[_0x4ade('0x51')](){this[_0x4ade('0x40')](_0x4ade('0x24'));}[_0x4ade('0x52')](_0x19a035=null){this[_0x4ade('0x40')](_0x4ade('0x25')+(_0x19a035?'\x20'+_0x19a035:''));}[_0x4ade('0x53')](){this[_0x4ade('0x40')]('%%GAME');}[_0x4ade('0x54')](a){this['send'](a[_0x4ade('0x55')]());}[_0x4ade('0x56')](){this[_0x4ade('0x40')]('%TORYO');}[_0x4ade('0x57')](){this['send'](_0x4ade('0x58'));}['timeout'](){this[_0x4ade('0x40')](_0x4ade('0x59'));}[_0x4ade('0x5a')](a,b){this[_0x4ade('0x40')](_0x4ade('0x5b')+(b?'ON\x20':'OFF\x20')+a);}[_0x4ade('0x40')](a){this['_socket'][_0x4ade('0x40')](a);console['log'](_0x4ade('0x5c')+a);}[_0x4ade('0x5d')](){this['_socket'][_0x4ade('0x5d')]();}}